(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{315:function(t,s,e){t.exports=e.p+"assets/img/2021-03-23-18-57-19.39d71be3.png"},316:function(t,s,e){t.exports=e.p+"assets/img/2021-03-23-19-01-36.a9518058.png"},317:function(t,s,e){t.exports=e.p+"assets/img/2021-03-23-19-08-30.0cbb8b14.png"},415:function(t,s,e){t.exports=e.p+"assets/img/2021-03-23-19-12-34.9b3c8cec.png"},416:function(t,s,e){t.exports=e.p+"assets/img/2021-03-23-19-13-56.61851ee0.png"},417:function(t,s,e){t.exports=e.p+"assets/img/2021-03-23-19-17-38.c6088736.png"},418:function(t,s,e){t.exports=e.p+"assets/img/2022-01-26-00-11-38.72bdf691.png"},419:function(t,s,e){t.exports=e.p+"assets/img/2022-01-26-00-09-33.0b34d8a5.png"},420:function(t,s,e){t.exports=e.p+"assets/img/2021-03-23-19-21-03.8a93237c.png"},421:function(t,s,e){t.exports=e.p+"assets/img/2021-03-23-19-24-06.44618665.png"},457:function(t,s,e){"use strict";e.r(s);var n=e(24),a=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"connectwise-control"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#connectwise-control"}},[t._v("#")]),t._v(" ConnectWise Control")]),t._v(" "),n("p",[t._v("Setting up this integration allows you to")]),t._v(" "),n("ol",[n("li",[t._v("Import customers from Control")]),t._v(" "),n("li",[t._v("Import computers from Control")]),t._v(" "),n("li",[t._v("Manage all computers in Control without deploying the ImmyBot Agent")]),t._v(" "),n("li",[t._v("Remote into computers from the ImmyBot interface using Control (Note: We default to requiring customer consent, you can disable this under Settings->Preferences)")]),t._v(" "),n("li",[t._v("Fix the Automate agent using the Control agent (by creating a cross-tenant deployment for the Automate Agent and creating a schedule for your customers)")])]),t._v(" "),n("h2",{attrs:{id:"install-immybot-extension-for-control"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#install-immybot-extension-for-control"}},[t._v("#")]),t._v(" Install ImmyBot Extension for Control")]),t._v(" "),n("p",[n("img",{attrs:{src:e(415),alt:""}})]),t._v(" "),n("p",[n("img",{attrs:{src:e(416),alt:""}})]),t._v(" "),n("p",[n("img",{attrs:{src:e(417),alt:""}})]),t._v(" "),n("h2",{attrs:{id:"create-rmmlink-for-control"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#create-rmmlink-for-control"}},[t._v("#")]),t._v(" Create RMMLink for Control")]),t._v(" "),n("p",[n("img",{attrs:{src:e(418),alt:""}}),t._v(" "),n("img",{attrs:{src:e(419),alt:""}})]),t._v(" "),n("p",[t._v("FAQ\nWhat custom property do I use?")]),t._v(" "),n("p",[t._v('By default most ConnectWise Control instances you would select 1 for the ClientName CustomProperty field, this is the "Company" property in Control.\nSecondary group is any number between 1-8 that you would like to group from based on Control groups.\nYou can find more infomation about Control custom propertys here;\nhttps://docs.connectwise.com/ConnectWise_Control_Documentation/Get_started/Administration_page/Appearance_page/Add_custom_properties_to_sessions')]),t._v(" "),n("h2",{attrs:{id:"import-your-customers"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#import-your-customers"}},[t._v("#")]),t._v(" Import your customers")]),t._v(" "),n("p",[n("img",{attrs:{src:e(315),alt:""}})]),t._v(" "),n("p",[n("img",{attrs:{src:e(316),alt:""}})]),t._v(" "),n("p",[t._v("Alternatively, you can create/map only certain customers.")]),t._v(" "),n("p",[t._v("When you map a customer from an RMM, the computers will undergo Identification")]),t._v(" "),n("p",[n("img",{attrs:{src:e(420),alt:""}})]),t._v(" "),n("p",[n("img",{attrs:{src:e(421),alt:""}})]),t._v(" "),n("p",[n("img",{attrs:{src:e(317),alt:""}})]),t._v(" "),n("h2",{attrs:{id:"troubleshooting"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting"}},[t._v("#")]),t._v(" Troubleshooting")]),t._v(" "),n("p",[t._v("ConnectWise Control uses Sqlite under the hood, making it vulnerable to performance issues unless aggressive Database Maintenance Tasks are enabled.")]),t._v(" "),n("p",[t._v("While ImmyBot only uses Control (and other integrations) to spawn an out-of-band connection, over the course of time the database can grow as ImmyBot establishes this connection on each machine once every 24 hours to collect inventory.")]),t._v(" "),n("p",[t._v("Commands go into the SessionEvent table with EventType = 44\nResponses go into SessionConnectionEvent with EventType = 70")]),t._v(" "),n("h3",{attrs:{id:"automatic-cleanup"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#automatic-cleanup"}},[t._v("#")]),t._v(" Automatic Cleanup")]),t._v(" "),n("p",[t._v("Ensure you have the following maintenance actions:\nAccess Sessions: Purge records of session activity older than 7 days for all events EXCEPT AddedNote")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://user-images.githubusercontent.com/1424395/160918827-b5de85c0-b528-46cc-bb21-5815fcb07fd0.png",alt:"image"}})]),t._v(" "),n("p",[t._v("Access Sessions: Purge records of session connections older than 7 days for Host and Guest connections")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://user-images.githubusercontent.com/1424395/160918906-6d6c0485-fe57-4ff8-b52f-99fa03b4cd74.png",alt:"image"}})]),t._v(" "),n("h3",{attrs:{id:"manual-cleanup"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#manual-cleanup"}},[t._v("#")]),t._v(" Manual Cleanup")]),t._v(" "),n("p",[t._v("If you host Control yourself, you can restore performance by doing the following")]),t._v(" "),n("p",[t._v("Download and Install "),n("a",{attrs:{href:"https://sqlitebrowser.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("DB Browser for SQLite"),n("OutboundLink")],1),t._v(" on your server\nOpen "),n("code",[t._v("C:\\Program Files (x86)\\ScreenConnect\\App_Data\\session.db")]),t._v("\nNavigate to SQL Editor\nPaste in the following SQL")]),t._v(" "),n("h4",{attrs:{id:"soft-delete-all-commands-and-responses-this-usually-solves-the-problem-without-kicking-everyone-out-of-control"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#soft-delete-all-commands-and-responses-this-usually-solves-the-problem-without-kicking-everyone-out-of-control"}},[t._v("#")]),t._v(" Soft delete all commands and responses (This usually solves the problem without kicking everyone out of Control)")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("update")]),t._v(" SessionEvents "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" EventAttributes "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" EventType "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("44")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("update")]),t._v(" SessionConnectionEvents "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" EventAttributes "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" EventType "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("70")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("You will need to commit the changes in DB Browser. You can do this by clicking Write Changes at the top by clicking File->Save\nIf you forget to tdo this it will prompt you to commit the changes, when you exit, click yes.")]),t._v(" "),n("p",[t._v("The reason this works is because the UI doesn't fetch soft-deleted items, so things become much snappier.")]),t._v(" "),n("p",[t._v("However, if it doesn't work, do you following")]),t._v(" "),n("h4",{attrs:{id:"delete-commands-and-responses-older-than-7-days"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#delete-commands-and-responses-older-than-7-days"}},[t._v("#")]),t._v(" Delete commands and responses older than 7 days")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- Delete queue commands in db older than 7 days")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DELETE")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" SessionEvent\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("EventType "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("44")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("AND")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Time")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DATETIME")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'now'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-7 day'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- Delete responses older than 7 days")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DELETE")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" SessionConnectionEvent\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("EventType "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("70")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("AND")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Time")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DATETIME")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'now'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-7 day'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=a.exports}}]);